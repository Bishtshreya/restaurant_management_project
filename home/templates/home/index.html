{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>{{ restaurant_name }}</title>
        <link rel="stylesheet" href="{% static 'style.css' %}">
    </head>

    <body>
        <header>
            
            <!-- Logo -->
            <div>
                {% if restaurant_location and restaurant_location.logo %}
                    <img src="{{ restaurant_location.logo.url }}" alt="Restaurant Logo" style="max-height:120px;">
                {% else %}
                    <img src="{% static 'images/logo.png' %}" alt="Default Restaurant Logo" style="max-height:120px;">
                {% endif %}
            </div>
           
            <!-- Restaurant Name -->
            <h1>{{ restaurant_name }}</h1>

            <!-- Navigation -->
            <nav>
                <a href="/">Home</a>
                <a href="{% url 'about' %}">About Us</a>
                <a href="#">Cart ({{ cart_count}})</a>
            </nav>
        </header>
        
        <main>
            <h2>Welcome to {{ restaurant_name }}</h2>
            <p>Best food in town!</p>

            <!--  Restaurant Phone Number -->
            {% if restaurant_location and restaurant_location.phone_number %}
                <span>Phone Number : {{ restaurant_location.phone_number }}</span>
            {% endif %}

            <!--  Restaurant Location -->
            {% if restaurant_location %}
            <section id="location">
                <h2>Find Us</h2>
                <p>
                    {{ restaurant_location.address }},
                    {{ restaurant_location.city }},
                    {{ restaurant_location.state }} --{{ restaurant_location.zip_code }}
                </p>
            </section>
            {% else %}
                <p>Address not available</p>
            {% endif %}

            <!-- Search Bar -->
            <section>
                <h3>Search Menu</h3>
                <form method="get" action="">
                    <input type="text" name="q" placeholder="Search for menu items..." required>
                    <button type="submit">Search</button>
                </form>
                {% if query %}
                    <h4>Search Results for "{{ query }}"</h4>
                    {% if search_results %}
                        <ul>
                            {% for item in search_results %}
                                <li>
                                    <strong>{{ item.name }}</strong> - {{ item.description }} ({{ item.price }})
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p>No results found.</p>
                    {% endif %}
                {% endif %}

            </section>

            <section id="location">
                <h2>Find Us</h2>
                <p>
                    {{ restaurant_location.address }},
                    {{ restaurant_location.city }},
                    {{ restaurant_location.state }} -
                    {{ restaurant_location.zip_code }}
                </p>    

                <!-- Embedded Google Map -->
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3500.9985783276406!2d77.21672121508363!3d28.64480098241342!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfd1f3a1a3f!2sConnaught%20Place%2C%20New%20Delhi!5e0!3m2!1sen!2sin!4v1610000000000!5m2!1sen!2sin"
                        width="600"
                        height="450"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy">
                    </iframe>
                </div>
            </section>

            <!--  Opening Hours Section -->
            <section id="opening-hours">
                <h2>Opening Hours</h2>
                <ul>
                    {% for day, hours in restaurant_location.opening_hours.items %}
                        <li><strong>{{ day }}:</strong> {{ hours }}</li>{% endfor %}
                </ul>
            </section>
        </main>

        <footer>
            <p>&copy; {{ year }} Shreya Restaurant. All Rights Reserved.</p>
            <p><strong>Opening Hours:</strong> Mon-Fri: 11am - 9pm | Sat-Sun: 10am - 10pm</p>
         </footer>
    </body>
</html>